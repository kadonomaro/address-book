(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b3ebd64"],{"1ac7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"contact-item"},[t.contact?a("div",{staticClass:"contact-item__inner"},[a("header",{staticClass:"contact-item__head"},[a("h1",{staticClass:"contact-item__title"},[t._v(t._s(t.contact.name))])]),a("div",{staticClass:"contact-item__body"},[a("div",{staticClass:"contact-item__avatar"},[a("img",{attrs:{src:t.contact.avatar||t.avatar,alt:t.contact.name}})]),a("div",{staticClass:"contact-item__info user-info"},[a("ul",{staticClass:"user-info__list"},[a("li",{staticClass:"user-info__item"},[a("b",[t._v("Возраст:")]),t._v(" "+t._s(t.contact.age)+" ")]),a("li",{staticClass:"user-info__item"},[a("b",[t._v("Пол:")]),t._v(" "+t._s(t.contact.sex)+" ")]),a("li",{staticClass:"user-info__item"},[a("b",[t._v("Статус: ")]),t._l(t.contact.tags,(function(e,n){return a("span",{key:n,staticClass:"user-info__tag"},[t._v(t._s(e)+t._s(n!==t.contact.tags.length-1?", ":""))])}))],2),a("li",{staticClass:"user-info__item"},[a("b",[t._v("Телефон: ")]),a("a",{staticClass:"user-info__link",attrs:{href:"tel:"+t.contact.phone}},[t._v(t._s(t._f("phone")(t.contact.phone)))])]),a("li",{staticClass:"user-info__item"},[a("b",[t._v("Электронная почта: ")]),a("a",{staticClass:"user-info__link",attrs:{href:"mailto:"+t.contact.email}},[t._v(t._s(t.contact.email))])])])]),t.contact.location?a("contact-map",{attrs:{address:t.contact.location}}):t._e()],1)]):t._e(),t.isLoading?a("v-preloader"):t._e()],1)},s=[],c=a("5530"),r=(a("96cf"),a("1da1")),o=a("2f62"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px",height:t.height+"px"},attrs:{id:"map"}},[a("transition",{attrs:{name:"fade"}},[t.coords.length?a("div",{staticClass:"contact-map"},[a("yandex-map",{attrs:{coords:t.coords,zoom:14,controls:["zoomControl"]},on:{"map-was-initialized":function(e){t.init=!0}}},[a("ymap-marker",{attrs:{coords:t.coords,"marker-id":"123","hint-content":t.address}})],1),a("span",{staticClass:"contact-map__address"},[t._v(t._s(t.address))])],1):t._e()]),a("transition",{attrs:{name:"fade"}},[t.init?t._e():a("div",{staticClass:"contact-map-preloader"})])],1)},d=[],u=(a("99af"),a("a9e3"),a("d3b7"),a("ac1f"),a("1276"),a("f5ce")),l={name:"contact-map",components:{yandexMap:u["b"],ymapMarker:u["c"]},props:{address:{type:String,required:!0},width:{type:Number,required:!1,default:600},height:{type:Number,required:!1,default:400}},data:function(){return{coords:[],init:!1}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getCoordByAddress(t.address).then((function(t){return t.response})).then((function(e){var a=e.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(" ");t.coords=a.reverse()}));case 1:case"end":return e.stop()}}),e)})))()},methods:{getCoordByAddress:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://geocode-maps.yandex.ru/1.x/?format=json&apikey=".concat(Object({NODE_ENV:"production",BASE_URL:"/address-book/"}).VUE_APP_YMAP_API_KEY,"&geocode=").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()}}},_=l,m=(a("7ae1"),a("2877")),f=Object(m["a"])(_,i,d,!1,null,null,null),p=f.exports,h=a("98a9"),v=a("56d7"),b=a("3e52"),g=a.n(b),C={name:"contact-item",components:{ContactMap:p,vPreloader:h["a"]},data:function(){return{id:this.$route.params.id,contact:null,avatar:g.a,isLoading:!0}},mounted:function(){this.getContactById(this.id)},methods:{getContactById:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v["db"].ref("/users/"+e.getUserId).child("contacts").child(t).once("value").then((function(t){e.contact=t.val(),e.isLoading=!1}));case 2:case"end":return a.stop()}}),a)})))()}},computed:Object(c["a"])({},Object(o["b"])(["getUserId"]))},w=C,y=(a("9d1c"),Object(m["a"])(w,n,s,!1,null,null,null));e["default"]=y.exports},"3cd0":function(t,e,a){},"76aa":function(t,e,a){},"7ae1":function(t,e,a){"use strict";var n=a("3cd0"),s=a.n(n);s.a},"9d1c":function(t,e,a){"use strict";var n=a("76aa"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-1b3ebd64.072b573d.js.map